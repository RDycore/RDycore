// RDycore -- a compound flooding dynamics simulator

#ifndef RDYCORE_H
#define RDYCORE_H

#include <petsc.h>

//---------------------
// Version Information
//---------------------

#define RDYCORE_MAJOR_VERSION @RDYCORE_MAJOR_VERSION@
#define RDYCORE_MINOR_VERSION @RDYCORE_MINOR_VERSION@
#define RDYCORE_PATCH_VERSION @RDYCORE_PATCH_VERSION@

//-------------------
// RDycore Interface
//-------------------

typedef struct _p_RDy *RDy;

// Process initialization
PETSC_EXTERN PetscErrorCode RDyInit(int, char*[], const char*);
PETSC_EXTERN PetscErrorCode RDyInitFortran(void);
PETSC_EXTERN PetscErrorCode RDyOnFinalize(void (*)(void));
PETSC_EXTERN PetscErrorCode RDyFinalize(void);
PETSC_EXTERN PetscBool RDyInitialized(void);

// RDycore setup/run/breakdown
PETSC_EXTERN PetscErrorCode RDyCreate(MPI_Comm, const char*, RDy*);
PETSC_EXTERN PetscErrorCode RDySetup(RDy);
PETSC_EXTERN PetscErrorCode RDyRun(RDy);
PETSC_EXTERN PetscErrorCode RDyDestroy(RDy*);

// Accessing data
PETSC_EXTERN PetscErrorCode RDyGetNumLocalCells(RDy*, PetscInt*);
PETSC_EXTERN PetscErrorCode RDyGetHeight(RDy*, PetscReal*);
PETSC_EXTERN PetscErrorCode RDyGetXVelocity(RDy*, PetscReal*);
PETSC_EXTERN PetscErrorCode RDyGetYVelocity(RDy*, PetscReal*);

#endif
