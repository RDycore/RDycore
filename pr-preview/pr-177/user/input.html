
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../installation.html">
      
      
        <link rel="next" href="mms.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>YAML Input Specification - RDycore: A River / Flooding dynamical core for E3SM</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rdycore-yaml-input-specification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="RDycore: A River / Flooding dynamical core for E3SM" class="md-header__button md-logo" aria-label="RDycore: A River / Flooding dynamical core for E3SM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RDycore: A River / Flooding dynamical core for E3SM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              YAML Input Specification
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/RDycore/RDycore" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="RDycore: A River / Flooding dynamical core for E3SM" class="md-nav__button md-logo" aria-label="RDycore: A River / Flooding dynamical core for E3SM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    RDycore: A River / Flooding dynamical core for E3SM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/RDycore/RDycore" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    YAML Input Specification
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="input.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    YAML Input Specification
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boundaries" class="md-nav__link">
    <span class="md-ellipsis">
      boundaries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boundary_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      boundary_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      checkpoint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensemble" class="md-nav__link">
    <span class="md-ellipsis">
      ensemble
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      flow_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grid" class="md-nav__link">
    <span class="md-ellipsis">
      grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      initial_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materials" class="md-nav__link">
    <span class="md-ellipsis">
      materials
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numerics" class="md-nav__link">
    <span class="md-ellipsis">
      numerics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physics" class="md-nav__link">
    <span class="md-ellipsis">
      physics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regions" class="md-nav__link">
    <span class="md-ellipsis">
      regions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    <span class="md-ellipsis">
      restart
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#salinity_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      salinity_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sediment_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      sediment_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sources" class="md-nav__link">
    <span class="md-ellipsis">
      sources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#surface_composition" class="md-nav__link">
    <span class="md-ellipsis">
      surface_composition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mms.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MMS Driver
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boundaries" class="md-nav__link">
    <span class="md-ellipsis">
      boundaries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boundary_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      boundary_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      checkpoint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensemble" class="md-nav__link">
    <span class="md-ellipsis">
      ensemble
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      flow_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grid" class="md-nav__link">
    <span class="md-ellipsis">
      grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      initial_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materials" class="md-nav__link">
    <span class="md-ellipsis">
      materials
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numerics" class="md-nav__link">
    <span class="md-ellipsis">
      numerics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physics" class="md-nav__link">
    <span class="md-ellipsis">
      physics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regions" class="md-nav__link">
    <span class="md-ellipsis">
      regions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    <span class="md-ellipsis">
      restart
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#salinity_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      salinity_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sediment_conditions" class="md-nav__link">
    <span class="md-ellipsis">
      sediment_conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sources" class="md-nav__link">
    <span class="md-ellipsis">
      sources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#surface_composition" class="md-nav__link">
    <span class="md-ellipsis">
      surface_composition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="rdycore-yaml-input-specification">RDycore YAML Input Specification</h1>
<p>You can configure an RDycore simulation by creating a text file that uses
the <a href="https://yaml.org/">YAML</a> markup language. Typically, these files have a
<code>.yml</code> or <code>.yaml</code> suffix like <a href="https://github.com/RDycore/RDycore/blob/main/driver/tests/swe_roe/ex2b.yaml"><code>ex2b.yaml</code></a>.
In this section, we describe how to express the specifics for your simulation
using the YAML syntax.</p>
<p>Before a YAML file is parsed, RDycore performs some string substitutions to
allow certain parameters to be used, e.g. for setting the names of data files
based on different build configurations. The following table lists the patterns
that are replaced, and the substitutions that replace them.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Substitution</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${PETSC_ID_TYPE}</code></td>
<td><code>int32</code> or <code>int64</code> based on whether PETSc is built with 64-bit indices</td>
</tr>
</tbody>
</table>
<p>RDycore's YAML input is broken up into several sections, each responsible for a
different aspect of the desired simulation. These sections fall into several
broad categories:</p>
<ul>
<li><strong>Model equations and discretizations</strong><ul>
<li><a href="input.html#physÑ–cs">physics</a>: configures the different physical models
  represented within RDycore</li>
<li><a href="input.html#numerics">numerics</a>: specifies the numerical methods used
  to solve the model equations</li>
<li><a href="input.html#grid">grid</a>: defines RDycore's discrete computational domain</li>
<li><a href="input.html#regions">regions</a>: associates regions (disjoint sets of cells)
  defined in a grid file with human-readable names</li>
<li><a href="input.html#boundaries">boundaries</a>: associates boundaries (disjoint sets of
  edges) defined in a grid file with human-readable names</li>
<li><a href="input.html#time">time</a>: defines the timespan for the simulation, sets
  limits and units for time stepping</li>
</ul>
</li>
<li><strong>Simulation diagnostics, output, and restarts</strong><ul>
<li><a href="input.html#logging">logging</a>: controls informational messages logged to
  files or to the terminal</li>
<li><a href="input.html#output">output</a>: configures simulation output, including
  scalable I/O formats and related parameters</li>
<li><a href="input.html#checkpoint">checkpoint</a>: configures simulation checkpoint
  files, which are used for restarts</li>
<li><a href="input.html#restart">restart</a>: configures whether a simulation is restarted
  from a previously saved checkpoint file</li>
</ul>
</li>
<li><strong>Material properties</strong><ul>
<li><a href="input.html#materials">materials</a>: defines the materials available to
  the simulation</li>
<li><a href="input.html#surface_composition">surface_composition</a>: associates
  materials defined in the <code>materials</code> section with files in which the
  relevant material properties are stored</li>
</ul>
</li>
<li><strong>Initial and boundary conditions, source terms</strong><ul>
<li><a href="input.html#initial_conditions">initial_conditions</a>: associates initial
  conditions (as defined in <code>flow_conditions</code>, <code>sediment_conditions</code>, and/or
  <code>salinity_conditions</code>) with specific regions defined in the <code>regions</code>
  section</li>
<li><a href="input.html#sources">sources</a>: associates source contributions
  (as defined in <code>flow_conditions</code>, <code>sediment_conditions</code>, and/or
  <code>salinity_conditions</code>) with specific regions defined in the <code>regions</code>
  section</li>
<li><a href="input.html#boundary_conditions">boundary_conditions</a>: associates boundary
  conditions (as defined in <code>flow_conditions</code>, <code>sediment_conditions</code>, and/or
  <code>salinity_conditions</code>) with specific boundaries defined in the
  <code>boundaries</code> section</li>
<li><a href="input.html#flow_conditions">flow_conditions</a>: defines flow-related
  parameters that can be used to specify initial/boundary conditions and
  sources</li>
<li><a href="input.html#sediment_conditions">sediment_conditions</a>: defines sediment-related
  parameters that can be used to specify initial/boundary conditions and
  sources</li>
<li><a href="input.html#salinity_conditions">salinity_conditions</a>: defines salinity-related
  parameters that can be used to specify initial/boundary conditions and
  sources</li>
</ul>
</li>
<li><strong>Running Ensembles</strong><ul>
<li><a href="input.html#ensemble">ensemble</a>: defines sets of parameters that vary
  between ensemble members so RDycore can run several simulations at once</li>
</ul>
</li>
</ul>
<p>Each of these sections is described below, with a motivating example.</p>
<h2 id="boundaries"><code>boundaries</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">boundaries</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">top_wall</span>
<span class="w">    </span><span class="nt">grid_boundary_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bottom_wall</span>
<span class="w">    </span><span class="nt">grid_boundary_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exterior</span>
<span class="w">    </span><span class="nt">grid_boundary_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>The <code>boundaries</code> section is a sequence (list) of boundary definitions, each of
which contains the following parameters:</p>
<ul>
<li><code>name</code>: a human-readable name for the boundary</li>
<li><code>grid_boundary_id</code>: an integer identifier associated with a disjoint set of
  grid edges. If this identifier is not found within the grid file specified
  in the <code>grid</code> section, a fatal error occurs.</li>
</ul>
<p>Boundary definitions can appear in any order within the sequence. The
<code>boundaries</code> section is optional, and need not be specified if you don't need to
associate a specific boundary condition with a specific boundary.</p>
<h2 id="boundary_conditions"><code>boundary_conditions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">boundary_conditions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">boundaries</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">top_wall</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reflecting_bc</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">boundaries</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">bottom_wall</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">outflow_bc</span>
</code></pre></div>
<p>The <code>boundary_conditions</code> section is a sequence (list) associating <code>flow</code>,
<code>sediment</code>, and <code>salinity</code> conditions (as defined in their respective sections)
with boundaries (as defined in the <code>boundaries</code> section). A boundary can have
at most one set of boundary conditions associated with it, but a boundary
condition can be associated with multiple boundaries, as indicated by the
<code>boundaries</code> field, which accepts a list of boundary names. If no boundary
conditions are given for a specific boundary, that boundary is assigned an
automatically-generated reflecting boundary condition and homogeneous Neumann
sediment and salinity conditions.</p>
<p>The above example shows a valid configuration for a simulation in which sediments
and salinity are not modeled, so only the <code>flow</code> parameter is required. The
presence of sediment boundary concentrations requires the <code>sediment</code> parameter,
as the presence of salinity concentrations requires the <code>salinity</code> parameter.</p>
<p>Like the <code>boundaries</code> section, the <code>boundary_conditions</code> section is optional.
If no boundary conditions are specified, all boundaries are assumed to have a
reflecting boundary condition.</p>
<h2 id="checkpoint"><code>checkpoint</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">checkpoint</span><span class="p">:</span>
<span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdf5</span>
<span class="w">  </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</code></pre></div>
<p>The <code>checkpoint</code> section contains fields that specify whether and how RDycore
writes checkpoint files, which can be used to restart simulations using
parameters in the <code>restart</code> section.</p>
<ul>
<li><code>format</code>: the format of the checkpoint files to be written. This can be either
  <code>binary</code> (the default) or <code>hdf5</code>.</li>
<li><code>interval</code>: the number of time steps taken between writing checkpoint files.
  This must be a positive integer.</li>
<li><code>prefix</code>: an optional prefix for checkpoint files. If omitted, the prefix for
  checkpoint files is the prefix of the YAML input file name for the simulation.</li>
</ul>
<p>The name of a checkpoint file written at time step <code>N</code> is <code>&lt;prefix&gt;.rdycore.r.&lt;N&gt;.&lt;format&gt;</code>,
where <code>&lt;prefix&gt;</code> is the checkpoint prefix and <code>&lt;format&gt;</code> is <code>bin</code> for a binary
file and <code>h5</code> for an HDF5 file.</p>
<p>This section is optional. If omitted, no checkpoint files are written.</p>
<h2 id="ensemble"><code>ensemble</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">ensemble</span><span class="p">:</span>
<span class="w">  </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="nt">members</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">member0</span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">smooth</span>
<span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">        </span><span class="nt">manning</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">member1</span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">smooth</span>
<span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">        </span><span class="nt">manning</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.20</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">member2</span>
<span class="w">    </span><span class="nt">materials</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">smooth</span>
<span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">        </span><span class="nt">manning</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">    </span><span class="nt">flow_conditions</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">domain_flow_ic</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirichlet</span>
<span class="w">      </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Differnt.Houston1km.ic.${PETSC_ID_TYPE}.bin</span>
<span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">binary</span>
</code></pre></div>
<p>The <code>ensemble</code> section defines parameter sets used to construct an ensemble
of simulations with different parameters.</p>
<p>Currently, this section lists all ensemble members, each with
specific parameters overridden. This explicit approach to constructing ensembles
allows the parameter sampling procedure to be performed by external tools.
Here are the fields of the <code>ensemble</code> section:</p>
<ul>
<li><code>size</code>: the number of ensemble members. This parameter is redundant in the
  sense that the number of ensemble members can be determined by the <code>members</code>
  field (below), but RDycore throws an error if the actual number of members
  does not match this parameter.</li>
<li><code>members</code>: a list of ensemble members, specified using YAML's sequence syntax
  (<code>-</code>). An ensemble member is just a collection of sections containing
  overridden parameters. An optional <code>name</code> field provides a name for each
  ensemble member; if omitted, the ensemble is automatically named in
  relation to its index within the list of members.</li>
</ul>
<p>Use the syntax (<code>-</code>) to add a member to the ensemble's <code>members</code> field. The
member consists of a set of sections with specific overridden parameters.
Sections that can be overridden in an ensemble member are:</p>
<ul>
<li><a href="input.html#grid"><code>grid</code></a></li>
<li><a href="input.html#materials"><code>materials</code></a></li>
<li><a href="input.html#flow_conditions"><code>flow_conditions</code></a></li>
<li><a href="input.html#sediment_conditions"><code>sediment_conditions</code></a></li>
<li><a href="input.html#salinity_conditions"><code>salinity_conditions</code></a></li>
</ul>
<p>The example above redefines the Manning coefficient of the <code>smooth</code>
<a href="input.html#materials">material</a> defined elsewhere in the file. In plain language,
the example varies the smoothness of the <code>smooth</code> material between ensemble
members. Additionally, the file used to initialize the <code>domain_flow_ic</code>
condition is overridden for the third member (<code>member2</code>).</p>
<p>This syntax is a bit cumbersome for assembling ensembles by hand, but it's a
simple mechanism for overriding parameters within ensemble members without
creating any new syntax for simulation input.</p>
<h2 id="flow_conditions"><code>flow_conditions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">flow_conditions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_top_ic</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirichlet</span>
<span class="w">    </span><span class="nt">height</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">x_momentum</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">    </span><span class="nt">y_momentum</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_bottom_ic</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirichlet</span>
<span class="w">    </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_ics.dat</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">binary</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reflecting_bc</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reflecting</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">outflow_bc</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">critical-outflow</span>
</code></pre></div>
<p>The <code>flow_conditions</code> section contains a sequence of sets of parameters defining
flow within a cell or cell boundary (edge). These flow conditions can be used
to define initial conditions, source contributions, and boundary conditions
elsewhere in the file. The parameters that define a flow condition are</p>
<ul>
<li><code>name</code>: a human-readable name that can be used to refer to this flow condition</li>
<li><code>type</code>: the type of constraint applied by this flow condition. Available
  options are<ul>
<li><code>dirichlet</code>: the condition explicitly specifies the value of relevant
  flow variables. This is useful for Dirichlet boundary conditions,
  initial conditions, and source terms.</li>
<li><code>neumann</code>: the condition explicitly specifies the value of the directional
  derivative of relevant flow variables on cell boundaries. This is useful
  only for boundary conditions. Currently, only homogeneous Neumann conditions
  are supported.</li>
<li><code>reflecting</code>: the condition specifies that no flow occurs through a given
  boundary, and that the boundary reflects the momentum contained in the flow.
  Useful only for boundary conditions.</li>
<li><code>critical-outflow</code>: the condition specifies that flow through a boundary
  is defined by a critical outflow condition. Useful only for boundary
  conditions.</li>
</ul>
</li>
</ul>
<p>In the case of a Dirichlet condition, flow is prescribed by providing parameters
to set the water height and momentum. This can be done in one of two ways:</p>
<ol>
<li>
<p>By specifying the parameters directly using the following fields:</p>
<ul>
<li><code>height</code>: the height of water [m] at the relevant point (within a cell
  or on its boundary)</li>
<li><code>x_momentum</code>: the <code>x</code> component of the momentum [kg m/s] at the relevant
  point (within a cell or on its boundary)</li>
<li><code>y_momentum</code>: the <code>y</code> component of the momentum [kg m/s] at the relevant
  point (within a cell or on its boundary)</li>
</ul>
</li>
<li>
<p>By specifying a file from which data for these parameters is to be read. The
   data is read into the components of the solution vector that correspond
   to the cells belonging to the region to which this flow condition is
   assigned:</p>
</li>
<li>
<p><code>file</code>: the path for the file from which data is read, specified relative
     to the directory in which the RDycore executable was run.</p>
</li>
<li><code>format</code>: the format of the data in the file, which current must be
     <code>binary</code> (specifying PETSc's binary format).</li>
</ol>
<h2 id="grid"><code>grid</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">grid</span><span class="p">:</span>
<span class="w">  </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">breaking-dam.exo</span>
</code></pre></div>
<p>The <code>grid</code> section defines the computational domain used by RDycore. Currently,
has only a single parameter:</p>
<ul>
<li><code>file</code>: the file containing the grid representing the computational domain.
  This grid must be stored in a format supported by PETSc's <a href="https://petsc.org/release/manual/dmplex/">DMPlex</a>
  data structure.</li>
</ul>
<h2 id="initial_conditions"><code>initial_conditions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">initial_conditions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">upstream</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_top_ic</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_bottom_ic</span>
</code></pre></div>
<p>The <code>initial_conditions</code> section is a sequence (list) associating <code>flow</code>,
<code>sediment</code>, and <code>salinity</code> conditions (as defined in their respective sections)
with regions (as defined in the <code>regions</code> section). A region must have exactly
one set of initial conditions associated with it. The above example shows a valid
configuration for a simulation in which sediments and salinity are not modeled,
so only the <code>flow</code> parameter is required. The presence of sediment concentrations
requires the <code>sediment</code> parameter, as the presence of salinity concentrations
requires the <code>salinity</code> parameter.</p>
<h2 id="logging"><code>logging</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">logging</span><span class="p">:</span>
<span class="w">  </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rdycore.log</span>
<span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info</span>
</code></pre></div>
<p>The <code>logging</code> section controls how messages emitted by RDycore are logged.
The relevant parameters in this section are</p>
<ul>
<li><code>file</code>: the file to which logged messages are written, relative to the
  directory in which RDycore (coupled or uncoupled) is executed. If this
  parameter is omitted, logged messages are written to standard output.</li>
<li><code>level</code>: the desired level of detail that determines which messages are
  logged. Available options are<ul>
<li><code>none</code>: no messages are logged</li>
<li><code>warning</code>: only warnings/urgent messages are logged</li>
<li><code>info</code>: warnings and informational messages are logged</li>
<li><code>detail</code>: warnings, informational messages, and messages with some
  degree of technical detail are logged</li>
<li><code>debug</code>: all messages including debugging prints are logged</li>
</ul>
</li>
</ul>
<h2 id="materials"><code>materials</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">materials</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">smooth</span>
<span class="w">    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">      </span><span class="nt">manning</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rough</span>
<span class="w">    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">      </span><span class="nt">manning</span><span class="p">:</span>
<span class="w">        </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rough-manning.dat</span>
<span class="w">        </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">binary</span>
</code></pre></div>
<p>The <code>materials</code> section is a sequence (list) of named materials defined by
specific material properties. Each material is essentially a named list of
material properties specified either directly by value or by data in a specific
file with a specific format. A material itself is specified by the following
fields:</p>
<ul>
<li><code>name</code>: a human-readable name that can be used to refer to a material</li>
<li><code>properties</code>: a mapping of material properties, with property names
  mapped to one or more of the following fields:<ul>
<li><code>value</code>: the value of the material property (omitted when <code>file</code> is specified)</li>
<li><code>file</code>: the name of a file from which the property is to be read (omitted when <code>value</code> is specified)</li>
<li><code>format</code>: the format of the specified file (if any)</li>
</ul>
</li>
</ul>
<p>Valid material properties are:</p>
<ul>
<li><code>manning</code> (required): the value of the <a href="https://en.wikipedia.org/wiki/Manning_formula">Manning roughness coefficient</a>
  for the material</li>
</ul>
<h2 id="numerics"><code>numerics</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">numerics</span><span class="p">:</span>
<span class="w">  </span><span class="nt">spatial</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fv</span>
<span class="w">  </span><span class="nt">temporal</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">euler</span>
<span class="w">  </span><span class="nt">riemann</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roe</span>
</code></pre></div>
<p>The <code>numerics</code> section defines the spatial and temporal discretizations used by
RDycore. The parameters that define these discretizations are</p>
<ul>
<li><code>spatial</code>: determines the spatial discretization. Can be either <code>fv</code> for
  a finite volume method, or <code>fe</code> for a finite element method. Currently, only
  <code>fv</code> is implemented. Default value: <code>fv</code></li>
<li><code>temporal</code>: determines the method of time integration used. Can be <code>euler</code>
  for the forward Euler method, <code>rk4</code> for a 4th-order Runge-Kutta method, or
  <code>beuler</code> for the L-stable backward Euler method. Currently, only <code>euler</code> and
  <code>rk4</code> are supported. Default value: <code>euler</code></li>
<li><code>riemann</code>: determines the form of the Riemann solver used for the shallow
  water equations. Can be <code>roe</code> for the Roe solver or <code>hllc</code> for the HLLC solver.
  Currently, only <code>roe</code> is implemented. Default value: <code>roe</code></li>
</ul>
<h2 id="output"><code>output</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">output</span><span class="p">:</span>
<span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xdmf</span>
<span class="w">  </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">time_series</span><span class="p">:</span>
<span class="w">    </span><span class="nt">boundary_fluxes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</code></pre></div>
<p>The <code>output</code> section control simulation output, including visualization and
time series data (and excluding checkpoint data). Relevant parameters are</p>
<ul>
<li><code>format</code>: the format of the output written. Available options are<ul>
<li><code>none</code>: no output is written. This is the default value.</li>
<li><code>binary</code>: output is written using PETSc's binary data format</li>
<li><code>xdmf</code>: output is written to the <a href="https://xdmf.org/index.php/XDMF_Model_and_Format">XDMF</a> format</li>
<li><code>cgns</code>: output is written to the <a href="https://cgns.github.io/">CFD General Notation System (CGNS)</a> format</li>
</ul>
</li>
<li><code>interval</code>: the number of time steps between output dumps. Default value: 0 (no output)</li>
<li><code>batch_size</code>: the number of time steps for which output data is stored in a
  single file. For example, a batch size of 10 specifies that each individual
  output file stores data for 10 time steps. Default value: 1</li>
<li><code>time_series</code>: this subsection controls time series simulation output, which
  is useful for inspection and possibly even coupling. Currently, this subsection
  has only one parameter:<ul>
<li><code>boundary_fluxes</code>: the interval (number of timesteps) at which boundary
  flux data is appended to a tab-delimited text file</li>
</ul>
</li>
</ul>
<h2 id="physics"><code>physics</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">physics</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flow</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">swe</span>
<span class="w">    </span><span class="nt">bed_friction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">tiny</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-7</span>
<span class="w">  </span><span class="nt">sediment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">salinity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
<p>The <code>physics</code> section determines which model physics are active in RDycore.
There are three available physical models.</p>
<p>First is the flow model, which is configured in the <code>flow</code> subsection. This
model determines how flooding is represented within RDycore. The relevant
parameters in this subsection are:</p>
<ul>
<li><code>mode</code>, which determines how the height of floodwater is computed. Valid
   parameters are <code>swe</code> (<a href="https://en.wikipedia.org/wiki/Shallow_water_equations">shallow water equations</a>)
   and <code>diffusive</code> (<a href="https://en.wikipedia.org/wiki/Shallow_water_equations#Diffusive_wave">diffusive wave approximation</a>,
   not yet supported). This parameter is required and has no default value.</li>
<li><code>bed_friction</code>, which can be set to <code>true</code> or <code>false</code> to enable/disable
  riverbed friction. Default value: <code>false</code></li>
<li><code>tiny_h</code>, which is the water height below which a given point is assumed to
  be dry. Default value: <code>1e-7</code></li>
</ul>
<p>The second physical model is the sediment model. You can enable or disable this
by setting the <code>sediment</code> parameter to <code>true</code> or <code>false</code>.</p>
<p>The third physical model is the salinity model, which you can also enable or
disable this by setting the <code>salinity</code> parameter to <code>true</code> or <code>false</code>.</p>
<h2 id="regions"><code>regions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">regions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">upstream</span>
<span class="w">    </span><span class="nt">grid_region_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream</span>
<span class="w">    </span><span class="nt">grid_region_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>The <code>regions</code> section is a sequence (list) of regions definitions, each of
which contains the following parameters:</p>
<ul>
<li><code>name</code>: a human-readable name for the boundary</li>
<li><code>grid_region_id</code>: an integer identifier associated with a disjoint set of
  grid cells. If this identifier is not found within the grid file specified
  in the <code>grid</code> section, a fatal error occurs.</li>
</ul>
<p>Region definitions can appear in any order within the sequence.</p>
<h2 id="restart"><code>restart</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">restart</span><span class="p">:</span>
<span class="w">  </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">checkpoint-100.h5</span>
<span class="w">  </span><span class="nt">reinitialize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>The <code>restart</code> section allows a user to specify a checkpoint file from which a
simulation is restarted.</p>
<ul>
<li><code>file</code>: the name of the checkpoint file from which to restart the simulation</li>
<li><code>reinitialize</code>: a flag indicating whether to reinitialize the simulation time
  to 0 (<code>true</code>) or continue from the time at which the checkpoint file was
  written (<code>false</code>)</li>
</ul>
<h2 id="salinity_conditions"><code>salinity_conditions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">salinity_conditions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-sal-condition</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirichlet</span>
<span class="w">    </span><span class="nt">concentration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>The <code>salinity_conditions</code> section contains a sequence of sets of parameters
defining the salinity concentration within a cell or cell boundary (edge).
A salinity condition can be used to define initial conditions, source
contributions, and boundary conditions elsewhere in the file. The parameters
that define a salinity condition are</p>
<ul>
<li><code>name</code>: a human-readable name that can be used to refer to the salinity condition</li>
<li><code>type</code>: the type of constraint applied by this salinity condition. Available
  options are<ul>
<li><code>dirichlet</code>: the condition explicitly specifies the value of the
  salinity concentration. This is useful for Dirichlet boundary conditions,
  initial conditions, and source terms.</li>
<li><code>neumann</code>: the condition explicitly specifies the value of the directional
  derivative of the concentration on cell boundaries. This is useful
  only for boundary conditions. Currently, only homogeneous Neumann conditions
  are supported.</li>
</ul>
</li>
</ul>
<p>In the case of a Dirichlet condition, a salinity concentration is prescribed by
providing one or more parameters. This can be done in one of two ways:</p>
<ol>
<li>
<p>By specifying the concentration directly using the <code>concentration</code> parameter</p>
</li>
<li>
<p>By specifying a file from which concentration data is to be read. The
   data is read into the components of the solution vector that correspond
   to the cells belonging to the region to which this flow condition is
   assigned:</p>
</li>
<li>
<p><code>file</code>: the path for the file from which data is read, specified relative
     to the directory in which the RDycore executable was run.</p>
</li>
<li><code>format</code>: the format of the data in the file, which current must be
     <code>binary</code> (specifying PETSc's binary format).</li>
</ol>
<h2 id="sediment_conditions"><code>sediment_conditions</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">sediment_conditions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-sed-condition</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirichlet</span>
<span class="w">    </span><span class="nt">concentration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>The <code>sediment_conditions</code> section contains a sequence of sets of parameters
defining the sediment concentration within a cell or cell boundary (edge).
A sediment condition can be used to define initial conditions, source
contributions, and boundary conditions elsewhere in the file. The parameters
that define a sediment condition are</p>
<ul>
<li><code>name</code>: a human-readable name that can be used to refer to the sediment condition</li>
<li><code>type</code>: the type of constraint applied by this sediment condition. Available
  options are<ul>
<li><code>dirichlet</code>: the condition explicitly specifies the value of the
  sediment concentration. This is useful for Dirichlet boundary conditions,
  initial conditions, and source terms.</li>
<li><code>neumann</code>: the condition explicitly specifies the value of the directional
  derivative of the sediment concentration on cell boundaries. This is
  useful only for boundary conditions. Currently, only homogeneous Neumann
  conditions are supported.</li>
</ul>
</li>
</ul>
<p>In the case of a Dirichlet condition, a sediment concentration is prescribed by
providing one or more parameters. This can be done in one of two ways:</p>
<ol>
<li>
<p>By specifying the concentration directly using the <code>concentration</code> parameter</p>
</li>
<li>
<p>By specifying a file from which concentration data is to be read. The
   data is read into the components of the solution vector that correspond
   to the cells belonging to the region to which this flow condition is
   assigned:</p>
</li>
<li>
<p><code>file</code>: the path for the file from which data is read, specified relative
     to the directory in which the RDycore executable was run.</p>
</li>
<li><code>format</code>: the format of the data in the file, which current must be
     <code>binary</code> (specifying PETSc's binary format).</li>
</ol>
<h2 id="sources"><code>sources</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">sources</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">upstream</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_top_src</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream</span>
<span class="w">    </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dam_bottom_src</span>
</code></pre></div>
<p>The <code>sources</code> section is a sequence (list) associating <code>flow</code>, <code>sediment</code>, and
<code>salinity</code> sources (as defined in their respective sections) with regions (as
defined in the <code>regions</code> section). Sources are optional for each region--if
omitted, a region has no source contributions. A region may have no more than
one set of source conditions associated with it. The above example shows a valid
configuration for a simulation in which sediments and salinity are not modeled,
so only the <code>flow</code> parameter is required. The presence of sediment sources
requires the <code>sediment</code> parameter, as the presence of salinity sources requires
the <code>salinity</code> parameter.</p>
<h2 id="surface_composition"><code>surface_composition</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">surface_composition</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">upstream</span>
<span class="w">    </span><span class="nt">material</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">smooth</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream</span>
<span class="w">    </span><span class="nt">material</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rough</span>
</code></pre></div>
<p>The <code>surface_composition</code> section is a sequence (list) associating materials
(as defined in the <code>materials</code> section) with regions (as defined in the
<code>regions</code> section). Since regions and materials both have human-readable names,
the association between the two is made clear by the <code>region</code> and <code>material</code>
parameters in each entry. A region is understood to be completely filled with
the material with which it is associated--the relationship between regions and
materials is necessarily 1:1.</p>
<h2 id="time"><code>time</code></h2>
<div class="highlight"><pre><span></span><code><span class="nt">time</span><span class="p">:</span>
<span class="w">  </span><span class="nt">final_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">unit</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">years</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">max_step</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">time_step</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">coupling_interval</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
</code></pre></div>
<p>The <code>time</code> section determines the time-stepping strategy used by RDycore using
the following parameters:</p>
<ul>
<li><code>units</code>: the units in which time is expressed in the input file. Available
  options are <code>seconds</code>, <code>minutes</code>, <code>hours</code>, <code>days</code>, <code>months</code>, and <code>years</code>.
  This parameter is required and has no default value.</li>
<li><code>final_time</code>: the time at which the simulation ends (in the desired units)</li>
<li><code>max_step</code>: the number of steps after which the simulation ends</li>
<li><code>time_step</code>: a fixed size used for the time step in the desired units.</li>
<li><code>coupling_inverval</code>: the time interval (in the desired units) at which
  RDycore advances without coupling to E3SM. By default, RDycore runs a single
  time step without coupling to E3SM.</li>
</ul>
<p>Exactly two of <code>final_time</code>, <code>max_step</code>, and <code>time_step</code> must be specified.
The missing parameter is then computed from those parameters given.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indices", "navigation.instant", "navigation.sections", "navigation.top"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>